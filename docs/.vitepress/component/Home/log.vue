<script setup lang="ts">
import { onMounted, ref } from 'vue'
const refLogo = ref()

onMounted(() => {
  const paths = refLogo.value.querySelectorAll('path');
  paths.forEach((path: SVGPathElement) => {
    const len = path.getTotalLength();
    path.style?.setProperty('--l', len.toString())
  });
})

</script>

<template>
  <svg class="svg" xmlns="http://www.w3.org/2000/svg" version="1.0" width="162px" height="33" viewBox="0 0 182 63"
    preserveAspectRatio="xMidYMid meet" ref="refLogo">
    <g fill="#000000FF" stroke="#000000FF">
      <path class="p"
        d="M 121.284 5.472 C 119.710 7.381 117.824 10.599 117.092 12.622 C 115.190 17.881 107.866 24.004 101.609 25.566 L 98.718 26.288 99.297 21.394 C 99.615 18.702 100.184 13.982 100.562 10.905 C 101.151 6.096 101.000 5.214 99.483 4.632 C 98.481 4.247 96.806 4.610 95.609 5.470 C 94.449 6.304 92.488 7.719 91.250 8.615 C 89.078 10.187 89.000 10.155 89.000 7.681 C 89.000 4.757 87.482 3.301 86.662 5.438 C 86.361 6.223 85.814 9.523 85.446 12.773 L 84.778 18.680 78.370 21.840 C 74.846 23.578 70.787 25.000 69.351 25.000 C 66.809 25.000 66.758 24.875 67.408 20.250 C 69.300 6.802 69.298 6.579 67.203 4.683 C 63.275 1.129 53.772 5.653 50.055 12.845 C 47.109 18.547 40.355 25.000 37.334 25.000 L 34.742 25.000 35.420 18.120 C 35.985 12.385 35.816 10.959 34.405 9.548 C 32.346 7.489 28.517 8.199 25.254 11.245 C 24.019 12.398 22.894 13.152 22.754 12.921 C 22.614 12.689 21.995 11.600 21.378 10.500 C 20.512 8.954 19.376 8.556 16.378 8.746 C 7.799 9.291 5.511 9.886 3.784 12.018 C 1.338 15.040 1.548 16.152 4.429 15.428 L 6.859 14.819 5.429 19.568 C 2.107 30.606 5.009 32.369 8.665 21.534 C 11.346 13.585 13.338 11.000 16.784 11.000 L 19.258 11.000 18.545 20.111 C 17.694 30.995 19.191 31.900 22.143 22.285 C 23.433 18.082 25.002 15.335 27.138 13.537 C 31.712 9.689 32.554 10.579 32.152 18.835 C 31.812 25.830 31.860 25.996 34.546 27.018 C 37.876 28.284 42.898 26.875 45.567 23.926 C 47.357 21.948 47.387 21.961 48.466 25.214 C 49.825 29.308 52.391 29.262 59.250 25.020 C 63.336 22.493 64.000 22.328 64.000 23.841 C 64.000 28.764 68.987 29.187 77.812 25.012 L 84.124 22.026 83.812 25.263 C 83.598 27.488 83.928 28.500 84.869 28.500 C 85.722 28.500 86.867 26.003 87.906 21.874 C 89.664 14.889 94.022 8.000 96.682 8.000 C 97.962 8.000 98.133 8.712 97.583 11.750 C 95.874 21.185 95.694 27.193 97.094 28.058 C 99.601 29.607 108.980 26.020 113.041 21.959 C 114.986 20.014 115.014 20.014 117.015 22.015 C 119.043 24.043 122.018 23.993 126.184 21.862 C 128.782 20.533 129.000 20.744 129.000 24.591 C 129.000 27.254 128.090 29.246 125.479 32.296 C 120.828 37.729 116.593 50.696 117.492 56.750 C 118.021 60.313 118.489 61.000 120.387 61.000 C 123.045 61.000 126.382 57.732 128.047 53.500 C 128.696 51.850 129.738 46.012 130.363 40.527 L 131.500 30.554 135.481 28.326 C 137.670 27.100 141.229 25.799 143.390 25.434 C 146.724 24.871 147.572 25.107 149.000 27.000 C 150.406 28.864 151.239 29.109 154.091 28.494 C 161.690 26.856 166.157 22.903 168.820 15.461 C 170.386 11.085 170.919 10.565 174.842 9.580 C 177.210 8.986 179.001 8.050 178.824 7.500 C 178.646 6.950 178.050 6.661 177.500 6.857 C 173.741 8.199 168.795 8.096 166.556 6.629 C 163.385 4.551 160.544 4.566 156.966 6.679 C 153.927 8.475 149.000 16.518 149.000 19.685 C 149.000 21.198 147.688 21.932 142.750 23.185 C 139.313 24.057 135.419 25.118 134.097 25.542 C 131.759 26.292 131.712 26.201 132.359 22.154 C 132.725 19.866 134.257 15.482 135.762 12.411 L 138.500 6.828 135.694 4.414 C 133.653 2.658 131.697 2.000 128.517 2.000 C 124.744 2.000 123.754 2.475 121.284 5.472 M 132.952 6.442 C 135.661 9.706 126.725 21.000 121.434 21.000 C 117.814 21.000 117.322 18.342 120.006 13.282 C 123.874 5.991 129.924 2.794 132.952 6.442 M 167.000 13.188 C 167.000 16.388 163.074 21.590 158.881 23.947 C 153.246 27.114 152.000 26.724 152.000 21.798 C 152.000 18.425 152.631 16.944 155.196 14.298 C 157.837 11.573 159.141 11.000 162.696 11.000 C 166.457 11.000 167.000 11.276 167.000 13.188 M 64.773 13.010 C 64.508 15.766 63.526 18.867 62.590 19.901 C 60.454 22.261 52.307 26.641 51.519 25.853 C 51.196 25.530 51.421 23.068 52.020 20.383 C 53.318 14.555 59.040 8.000 62.830 8.000 C 65.137 8.000 65.231 8.242 64.773 13.010 M 127.015 44.909 C 125.281 55.190 120.000 62.490 120.000 54.605 C 120.000 50.298 123.389 39.275 125.720 36.000 L 127.500 33.500 127.829 35.819 C 128.009 37.095 127.643 41.185 127.015 44.909 " />
    </g>
  </svg>
</template>

<style scoped lang="scss">
.p {
  fill: none;
  stroke: var(--mg-font-color);
  stroke-width: 2;
  stroke-dasharray: var(--l);
  stroke-dashoffset: var(--l);
  animation: stroke 3s forwards;
}

@keyframes stroke {
  to {
    stroke-dashoffset: 0;
    fill: var(--mg-font-color);
  }
}
</style>
